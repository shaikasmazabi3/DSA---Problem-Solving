<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Fun with Asynchronous JavaScript! üöÄ</title>
    <style>
      :root {
        --primary-color: #4a90e2;
        --secondary-color: #f5a623;
        --bg-color: #f0f8ff;
        --text-color: #333;
        --code-bg: #272822;
        --code-color: #f8f8f2;
        --quiz-correct: #4caf50;
        --quiz-wrong: #f44336;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 0;
        overflow-x: hidden;
      }
      header {
        background: var(--primary-color);
        color: white;
        padding: 1rem;
        text-align: center;
        font-size: 1.8rem;
        font-weight: 700;
      }
      main {
        max-width: 900px;
        margin: 1rem auto 3rem;
        padding: 0 1rem;
      }
      section {
        display: none;
        animation: fadeIn 1s ease forwards;
      }
      section.active {
        display: block;
      }
      h2 {
        color: var(--primary-color);
        font-size: 1.6rem;
        margin: 1rem 0 0.5rem;
      }
      p {
        font-size: 1.1rem;
        line-height: 1.5;
      }
      .emoji {
        font-size: 2rem;
        vertical-align: middle;
        margin-right: 0.3rem;
      }
      .code-block {
        background: var(--code-bg);
        color: var(--code-color);
        padding: 1rem;
        border-radius: 8px;
        font-family: "Courier New", Courier, monospace;
        font-size: 1rem;
        margin: 1rem 0;
        white-space: pre-wrap;
      }
      .btn-group {
        margin-top: 1.5rem;
        text-align: center;
      }
      button {
        background: var(--primary-color);
        border: none;
        color: white;
        padding: 0.7rem 1.4rem;
        margin: 0 0.4rem;
        font-size: 1rem;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      button:hover,
      button:focus {
        background: var(--secondary-color);
        outline: none;
      }
      .diagram {
        margin: 1rem 0;
        text-align: center;
      }
      svg {
        max-width: 100%;
        height: auto;
      }
      /* Animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      /* Progress bar for async simulation */
      .progress-bar {
        width: 100%;
        background: #ddd;
        border-radius: 10px;
        overflow: hidden;
        height: 20px;
        margin: 1rem 0;
      }
      .progress-fill {
        background: var(--secondary-color);
        height: 100%;
        width: 0%;
        transition: width 2s ease;
      }
      /* Quiz styles */
      .quiz {
        background: white;
        border: 2px solid var(--primary-color);
        border-radius: 10px;
        padding: 1rem;
        margin: 1rem 0;
      }
      .quiz button {
        background: var(--primary-color);
        margin: 0.3rem 0.6rem 0.3rem 0;
      }
      .quiz .feedback {
        margin-top: 0.8rem;
        font-weight: 600;
      }
      .correct {
        color: var(--quiz-correct);
      }
      .wrong {
        color: var(--quiz-wrong);
      }
      /* Interactive clickable parts */
      .clickable {
        cursor: pointer;
        color: var(--primary-color);
        font-weight: 600;
      }
      .highlight {
        background-color: #ffff99;
        transition: background-color 0.5s ease;
      }
      /* Accessibility focus */
      button:focus-visible {
        outline: 3px solid var(--secondary-color);
      }
      /* Aria live region for quiz feedback */
      #aria-live {
        position: absolute;
        left: -9999px;
        width: 1px;
        height: 1px;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <header>üöÄ Fun with Asynchronous JavaScript!</header>

    <main role="main" aria-live="polite" aria-atomic="true">
      <!-- Slide 1: What is Asynchronous JS? -->
      <section
        class="slide active"
        id="slide1"
        aria-label="Introduction to Asynchronous JavaScript"
      >
        <h2>
          <span class="emoji" aria-hidden="true">‚öôÔ∏è</span> What is Asynchronous
          JavaScript?
        </h2>
        <p>
          Imagine your browser is a mailman üì¨. It delivers your letters (tasks)
          one by one, but some letters take longer to open. Asynchronous
          JavaScript lets the mailman put some letters aside and come back later
          without stopping everything!
        </p>
        <div class="diagram" aria-hidden="true">
          <svg
            width="320"
            height="120"
            viewBox="0 0 320 120"
            role="img"
            aria-label="Diagram showing mailman delivering letters with some waiting"
          >
            <rect x="20" y="40" width="40" height="40" fill="#4a90e2" />
            <text
              x="40"
              y="70"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
              dominant-baseline="middle"
            >
              üì¨
            </text>
            <rect x="80" y="40" width="40" height="40" fill="#f5a623" />
            <text
              x="100"
              y="70"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
              dominant-baseline="middle"
            >
              üìÑ
            </text>
            <rect x="140" y="40" width="40" height="40" fill="#4a90e2" />
            <text
              x="160"
              y="70"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
              dominant-baseline="middle"
            >
              üì¨
            </text>
            <rect x="200" y="40" width="40" height="40" fill="#f5a623" />
            <text
              x="220"
              y="70"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
              dominant-baseline="middle"
            >
              üìÑ
            </text>
            <line
              x1="60"
              y1="60"
              x2="80"
              y2="60"
              stroke="#333"
              stroke-width="3"
              marker-end="url(#arrow)"
            />
            <line
              x1="120"
              y1="60"
              x2="140"
              y2="60"
              stroke="#333"
              stroke-width="3"
              marker-end="url(#arrow)"
            />
            <line
              x1="180"
              y1="60"
              x2="200"
              y2="60"
              stroke="#333"
              stroke-width="3"
              marker-end="url(#arrow)"
            />
            <defs>
              <marker
                id="arrow"
                markerWidth="10"
                markerHeight="10"
                refX="5"
                refY="5"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
              </marker>
            </defs>
          </svg>
        </div>
        <p>
          The mailman keeps working on other letters while waiting for slow ones
          to open. This is asynchronous JavaScript!
        </p>
        <div
          class="btn-group"
          role="navigation"
          aria-label="Navigation buttons"
        >
          <button
            id="next1"
            aria-controls="slide2"
            aria-label="Go to next slide about Callbacks"
          >
            Next ‚û°Ô∏è
          </button>
        </div>
      </section>

      <!-- Slide 2: Callback Functions & Callback Hell -->
      <section
        class="slide"
        id="slide2"
        aria-label="Callbacks and Callback Hell"
      >
        <h2>
          <span class="emoji" aria-hidden="true">üîî</span> Callbacks & Callback
          Hell
        </h2>
        <p>
          A callback is like telling the mailman: "After you deliver this
          letter, please open the next one." It's a function run after another
          finishes.
        </p>
        <p><strong>Example:</strong></p>
        <pre class="code-block" aria-label="Code example of nested callbacks">
doTask1(() => {
  doTask2(() => {
    doTask3(() => {
      console.log('All done!');
    });
  });
});
    </pre
        >
        <p>
          But if you keep adding callbacks inside callbacks, your code looks
          like a messy tower üè∞ ‚Äî this is called <strong>Callback Hell</strong>.
        </p>
        <div class="diagram" aria-hidden="true">
          <svg
            width="300"
            height="150"
            role="img"
            aria-label="Diagram showing nested callback boxes"
          >
            <rect
              x="10"
              y="10"
              width="280"
              height="130"
              fill="#f5a623"
              rx="10"
              ry="10"
            />
            <text
              x="150"
              y="30"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
            >
              Callback 1
            </text>
            <rect
              x="40"
              y="50"
              width="220"
              height="90"
              fill="#4a90e2"
              rx="10"
              ry="10"
            />
            <text
              x="150"
              y="75"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
            >
              Callback 2
            </text>
            <rect
              x="70"
              y="90"
              width="160"
              height="40"
              fill="#f5a623"
              rx="10"
              ry="10"
            />
            <text
              x="150"
              y="115"
              fill="#fff"
              font-size="16"
              text-anchor="middle"
            >
              Callback 3
            </text>
          </svg>
        </div>
        <div
          class="btn-group"
          role="navigation"
          aria-label="Navigation buttons"
        >
          <button
            id="prev2"
            aria-controls="slide1"
            aria-label="Go to previous slide about Asynchronous JS"
          >
            ‚¨ÖÔ∏è Prev
          </button>
          <button
            id="next2"
            aria-controls="slide3"
            aria-label="Go to next slide about Promises"
          >
            Next ‚û°Ô∏è
          </button>
        </div>
      </section>

      <!-- Slide 3: Promises - The Promise Box -->
      <section
        class="slide"
        id="slide3"
        aria-label="Promises and Promise states"
      >
        <h2>
          <span class="emoji" aria-hidden="true">üì¶</span> Promises: The Promise
          Box
        </h2>
        <p>
          A Promise is like a magic box üéÅ. You ask for something, and the box
          promises to give it later.
        </p>
        <p>It can be in 3 states:</p>
        <ul>
          <li><strong>Pending</strong>: Waiting for the result üïí</li>
          <li><strong>Fulfilled</strong>: Got the result ‚úÖ</li>
          <li><strong>Rejected</strong>: Something went wrong ‚ùå</li>
        </ul>
        <div class="diagram" aria-hidden="true">
          <svg
            width="320"
            height="140"
            role="img"
            aria-label="Diagram showing promise states and transitions"
          >
            <rect
              x="20"
              y="20"
              width="100"
              height="50"
              fill="#f5a623"
              rx="10"
              ry="10"
            />
            <text x="70" y="50" fill="#fff" font-size="14" text-anchor="middle">
              Pending
            </text>

            <rect
              x="140"
              y="20"
              width="100"
              height="50"
              fill="#4a90e2"
              rx="10"
              ry="10"
            />
            <text
              x="190"
              y="50"
              fill="#fff"
              font-size="14"
              text-anchor="middle"
            >
              Fulfilled
            </text>

            <rect
              x="80"
              y="90"
              width="100"
              height="50"
              fill="#f44336"
              rx="10"
              ry="10"
            />
            <text
              x="130"
              y="120"
              fill="#fff"
              font-size="14"
              text-anchor="middle"
            >
              Rejected
            </text>

            <line
              x1="70"
              y1="70"
              x2="70"
              y2="90"
              stroke="#333"
              stroke-width="2"
              marker-end="url(#arrow)"
            />
            <line
              x1="120"
              y1="45"
              x2="140"
              y2="45"
              stroke="#333"
              stroke-width="2"
              marker-end="url(#arrow)"
            />
            <line
              x1="120"
              y1="45"
              x2="130"
              y2="90"
              stroke="#333"
              stroke-width="2"
              marker-end="url(#arrow)"
            />
            <defs>
              <marker
                id="arrow"
                markerWidth="8"
                markerHeight="8"
                refX="5"
                refY="4"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 8 4 L 0 8 z" fill="#333" />
              </marker>
            </defs>
          </svg>
        </div>
        <p><strong>Example:</strong></p>
        <pre class="code-block" aria-label="Simple promise example">
const promise = new Promise((resolve, reject) => {
  setTimeout(() => resolve('üéâ Yay!'), 2000);
});

promise.then(result => console.log(result));
    </pre
        >
        <div
          class="btn-group"
          role="navigation"
          aria-label="Navigation buttons"
        >
          <button
            id="prev3"
            aria-controls="slide2"
            aria-label="Go to previous slide about Callbacks"
          >
            ‚¨ÖÔ∏è Prev
          </button>
          <button
            id="next3"
            aria-controls="slide4"
            aria-label="Go to next slide about async await"
          >
            Next ‚û°Ô∏è
          </button>
        </div>
      </section>

      <!-- Slide 4: Async/Await - The Friendly Waiter -->
      <section class="slide" id="slide4" aria-label="Async Await explanation">
        <h2>
          <span class="emoji" aria-hidden="true">üßë‚Äçüç≥</span> Async/Await: The
          Friendly Waiter
        </h2>
        <p>
          Async/await is like a friendly waiter at a restaurant üçΩÔ∏è. You tell
          them what you want and wait patiently while they bring it.
        </p>
        <p>It makes your code look easy and clean, like normal steps:</p>
        <pre class="code-block" aria-label="Async await example code">
async function orderFood() {
  const food = await getFood(); // Waits here nicely
  console.log(food);
}
orderFood();
    </pre
        >
        <p>
          The <code>await</code> pauses the function until the Promise is ready
          ‚Äî no messy callbacks!
        </p>
        <div
          class="btn-group"
          role="navigation"
          aria-label="Navigation buttons"
        >
          <button
            id="prev4"
            aria-controls="slide3"
            aria-label="Go to previous slide about Promises"
          >
            ‚¨ÖÔ∏è Prev
          </button>
          <button
            id="next4"
            aria-controls="slide5"
            aria-label="Go to next slide about setTimeout and setInterval"
          >
            Next ‚û°Ô∏è
          </button>
        </div>
      </section>

      <!-- Slide 5: setTimeout & setInterval - The Timer Helpers -->
      <section
        class="slide"
        id="slide5"
        aria-label="setTimeout and setInterval explanation"
      >
        <h2>
          <span class="emoji" aria-hidden="true">‚è∞</span> setTimeout &
          setInterval
        </h2>
        <p>
          These are like timers ‚è≤Ô∏è. <code>setTimeout</code> waits once, then
          runs your code. <code>setInterval</code> runs your code again and
          again every set time.
        </p>
        <p><strong>Example:</strong></p>
        <pre class="code-block" aria-label="setTimeout example code">
setTimeout(() => {
  console.log('Hello after 2 seconds!');
}, 2000);
    </pre
        >
        <pre class="code-block" aria-label="setInterval example code">
let count = 0;
const intervalId = setInterval(() => {
  count++;
  console.log('Count:', count);
  if (count === 3) clearInterval(intervalId);
}, 1000);
    </pre
        >
        <p>
          Timers help you do things later or repeat something ‚Äî like a reminder
          or a heartbeat! ‚ù§Ô∏è
        </p>
        <div
          class="btn-group"
          role="navigation"
          aria-label="Navigation buttons"
        >
          <button
            id="prev5"
            aria-controls="slide4"
            aria-label="Go to previous slide about Async Await"
          >
            ‚¨ÖÔ∏è Prev
          </button>
          <button
            id="quizBtn"
            aria-label="Start quiz on asynchronous JavaScript concepts"
          >
            Take a Fun Quiz! üéâ
          </button>
        </div>
      </section>

      <!-- Slide 6: Quiz -->
      <section
        class="slide"
        id="slide6"
        aria-label="Quiz on Asynchronous JavaScript"
        tabindex="0"
      >
        <h2>
          <span class="emoji" aria-hidden="true">‚ùì</span> Quick Quiz Time!
        </h2>
        <div class="quiz" role="quiz" aria-live="polite" aria-atomic="true">
          <p><strong>1. What does a Promise represent?</strong></p>
          <button data-correct="true">
            A box that will give you something later
          </button>
          <button data-correct="false">A function that runs immediately</button>
          <button data-correct="false">A timer that never stops</button>
          <div class="feedback" aria-live="assertive"></div>
        </div>
        <div class="quiz" role="quiz" aria-live="polite" aria-atomic="true">
          <p><strong>2. What problem does async/await help solve?</strong></p>
          <button data-correct="false">Making code run slower</button>
          <button data-correct="true">
            Making asynchronous code look simple and clean
          </button>
          <button data-correct="false">
            Stopping the browser from working
          </button>
          <div class="feedback" aria-live="assertive"></div>
        </div>
        <div class="quiz" role="quiz" aria-live="polite" aria-atomic="true">
          <p><strong>3. What is "Callback Hell"?</strong></p>
          <button data-correct="false">A fun game in JavaScript</button>
          <button data-correct="true">
            Too many nested callbacks making code messy
          </button>
          <button data-correct="false">When callbacks never run</button>
          <div class="feedback" aria-live="assertive"></div>
        </div>
        <div
          class="btn-group"
          role="navigation"
          aria-label="Navigation buttons"
        >
          <button id="restartBtn" aria-label="Restart the lesson">
            Restart Lesson üîÑ
          </button>
        </div>
      </section>
    </main>

    <!-- Aria live region for dynamic feedback -->
    <div id="aria-live" aria-live="polite" aria-atomic="true"></div>

    <script>
      // Slide navigation
      const slides = document.querySelectorAll(".slide");
      let currentSlide = 0;

      function showSlide(index) {
        slides.forEach((slide, i) => {
          slide.classList.toggle("active", i === index);
          if (i === index) slide.focus();
        });
        currentSlide = index;
      }

      // Button handlers for navigation
      document
        .getElementById("next1")
        .addEventListener("click", () => showSlide(1));
      document
        .getElementById("prev2")
        .addEventListener("click", () => showSlide(0));
      document
        .getElementById("next2")
        .addEventListener("click", () => showSlide(2));
      document
        .getElementById("prev3")
        .addEventListener("click", () => showSlide(1));
      document
        .getElementById("next3")
        .addEventListener("click", () => showSlide(3));
      document
        .getElementById("prev4")
        .addEventListener("click", () => showSlide(2));
      document
        .getElementById("next4")
        .addEventListener("click", () => showSlide(4));
      document
        .getElementById("prev5")
        .addEventListener("click", () => showSlide(3));
      document
        .getElementById("quizBtn")
        .addEventListener("click", () => showSlide(5));
      document
        .getElementById("restartBtn")
        .addEventListener("click", () => showSlide(0));

      // Quiz logic
      const quizzes = document.querySelectorAll(".quiz");
      quizzes.forEach((quiz) => {
        const buttons = quiz.querySelectorAll("button");
        const feedback = quiz.querySelector(".feedback");
        buttons.forEach((button) => {
          button.addEventListener("click", () => {
            const correct = button.getAttribute("data-correct") === "true";
            if (correct) {
              feedback.textContent = "‚úÖ Correct!";
              feedback.className = "feedback correct";
            } else {
              feedback.textContent = "‚ùå Oops, try again.";
              feedback.className = "feedback wrong";
            }
            // Disable buttons after answer
            buttons.forEach((btn) => (btn.disabled = true));
          });
        });
      });

      // Keyboard accessibility: allow navigation with arrow keys
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight") {
          if (currentSlide < slides.length - 1) showSlide(currentSlide + 1);
        } else if (e.key === "ArrowLeft") {
          if (currentSlide > 0) showSlide(currentSlide - 1);
        }
      });
    </script>
  </body>
</html>
